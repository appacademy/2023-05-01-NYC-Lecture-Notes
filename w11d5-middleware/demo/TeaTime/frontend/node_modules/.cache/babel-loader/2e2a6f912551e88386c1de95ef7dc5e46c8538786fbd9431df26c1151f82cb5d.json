{"ast":null,"code":"import * as TeaAPIUtil from \"../util/teaAPIUtil\";\nconst RECEIVE_TEA = \"RECEIVE_TEA\";\nconst RECEIVE_TEAS = \"RECEIVE_TEAS\";\nconst REMOVE_TEA = \"REMOVE_TEA\";\n\n// Action creator\nexport const receiveTea = tea => {\n  return {\n    type: RECEIVE_TEA,\n    tea\n  };\n};\nexport const receiveTeas = teas => {\n  return {\n    type: RECEIVE_TEAS,\n    teas\n  };\n};\nexport const removeTea = teaId => ({\n  type: REMOVE_TEA,\n  teaId\n});\n\n// Thunnk actions\n\nexport const fetchAllTeas = () => async (dispatch, getState) => {\n  const res = await TeaAPIUtil.requestTeas();\n  const teas = await res.json();\n  dispatch(receiveTeas(teas));\n};\n\n// reducer\n\nconst teaReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const nextState = Object.assign({}, Object.freeze(state)); // making a copy\n\n  switch (action.type) {\n    case RECEIVE_TEA:\n      nextState[action.tea.id] = action.tea;\n      return nextState;\n    case RECEIVE_TEAS:\n      return {\n        ...nextState,\n        ...action.teas\n      };\n    case REMOVE_TEA:\n      delete nextState[action.teaId];\n      return nextState;\n    default:\n      return nextState;\n  }\n};\nexport default teaReducer;","map":{"version":3,"names":["TeaAPIUtil","RECEIVE_TEA","RECEIVE_TEAS","REMOVE_TEA","receiveTea","tea","type","receiveTeas","teas","removeTea","teaId","fetchAllTeas","dispatch","getState","res","requestTeas","json","teaReducer","state","arguments","length","undefined","action","nextState","Object","assign","freeze","id"],"sources":["/Users/aminbabar/Desktop/w11d4-middleware/demo/TeaTime/frontend/src/store/teaReducer.js"],"sourcesContent":["import * as TeaAPIUtil from \"../util/teaAPIUtil\";\n\nconst RECEIVE_TEA = \"RECEIVE_TEA\";\nconst RECEIVE_TEAS = \"RECEIVE_TEAS\";\nconst REMOVE_TEA = \"REMOVE_TEA\";\n\n// Action creator\nexport const receiveTea = (tea) => {\n  return {\n    type: RECEIVE_TEA,\n    tea\n  };\n};\n\nexport const receiveTeas = (teas) => {\n  return {\n    type: RECEIVE_TEAS,\n    teas\n  };\n};\n\nexport const removeTea = (teaId) => ({\n  type: REMOVE_TEA,\n  teaId\n});\n\n// Thunnk actions\n\nexport const fetchAllTeas = () => async (dispatch, getState) => {\n  const res = await TeaAPIUtil.requestTeas();\n  const teas = await res.json();\n  dispatch(receiveTeas(teas));\n}\n\n\n// reducer\n\nconst teaReducer = (state = {}, action) => {\n  const nextState = Object.assign({}, Object.freeze(state)); // making a copy\n\n  switch (action.type) {\n    case RECEIVE_TEA:\n      nextState[action.tea.id] = action.tea;\n      return nextState;\n    case RECEIVE_TEAS:\n      return { ...nextState, ...action.teas };\n    case REMOVE_TEA:\n      delete nextState[action.teaId];\n      return nextState;\n    default:\n      return nextState;\n  }\n\n};\n\nexport default teaReducer;"],"mappings":"AAAA,OAAO,KAAKA,UAAU,MAAM,oBAAoB;AAEhD,MAAMC,WAAW,GAAG,aAAa;AACjC,MAAMC,YAAY,GAAG,cAAc;AACnC,MAAMC,UAAU,GAAG,YAAY;;AAE/B;AACA,OAAO,MAAMC,UAAU,GAAIC,GAAG,IAAK;EACjC,OAAO;IACLC,IAAI,EAAEL,WAAW;IACjBI;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAME,WAAW,GAAIC,IAAI,IAAK;EACnC,OAAO;IACLF,IAAI,EAAEJ,YAAY;IAClBM;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,SAAS,GAAIC,KAAK,KAAM;EACnCJ,IAAI,EAAEH,UAAU;EAChBO;AACF,CAAC,CAAC;;AAEF;;AAEA,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAC9D,MAAMC,GAAG,GAAG,MAAMd,UAAU,CAACe,WAAW,CAAC,CAAC;EAC1C,MAAMP,IAAI,GAAG,MAAMM,GAAG,CAACE,IAAI,CAAC,CAAC;EAC7BJ,QAAQ,CAACL,WAAW,CAACC,IAAI,CAAC,CAAC;AAC7B,CAAC;;AAGD;;AAEA,MAAMS,UAAU,GAAG,SAAAA,CAAA,EAAwB;EAAA,IAAvBC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEG,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACpC,MAAME,SAAS,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAED,MAAM,CAACE,MAAM,CAACR,KAAK,CAAC,CAAC,CAAC,CAAC;;EAE3D,QAAQI,MAAM,CAAChB,IAAI;IACjB,KAAKL,WAAW;MACdsB,SAAS,CAACD,MAAM,CAACjB,GAAG,CAACsB,EAAE,CAAC,GAAGL,MAAM,CAACjB,GAAG;MACrC,OAAOkB,SAAS;IAClB,KAAKrB,YAAY;MACf,OAAO;QAAE,GAAGqB,SAAS;QAAE,GAAGD,MAAM,CAACd;MAAK,CAAC;IACzC,KAAKL,UAAU;MACb,OAAOoB,SAAS,CAACD,MAAM,CAACZ,KAAK,CAAC;MAC9B,OAAOa,SAAS;IAClB;MACE,OAAOA,SAAS;EACpB;AAEF,CAAC;AAED,eAAeN,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}